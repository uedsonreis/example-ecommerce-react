{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nimport { create } from 'apisauce';\nvar Authorization = \"Authorization\";\nvar headers = {\n  Accept: 'application/json'\n};\n\nvar ServiceAPI = function () {\n  function ServiceAPI() {\n    _classCallCheck(this, ServiceAPI);\n\n    this.apiAuth = create({\n      baseURL: \"http://127.0.0.1:3002/\",\n      headers: headers\n    });\n  }\n\n  _createClass(ServiceAPI, [{\n    key: \"getProductList\",\n    value: function getProductList() {\n      return _regeneratorRuntime.async(function getProductList$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.next = 2;\n              return _regeneratorRuntime.awrap(this.apiAuth.get('products'));\n\n            case 2:\n              return _context.abrupt(\"return\", _context.sent);\n\n            case 3:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, null, this, null, Promise);\n    }\n  }, {\n    key: \"login\",\n    value: function login(user) {\n      return _regeneratorRuntime.async(function login$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              _context2.next = 2;\n              return _regeneratorRuntime.awrap(this.apiAuth.post('users/login', user));\n\n            case 2:\n              return _context2.abrupt(\"return\", _context2.sent);\n\n            case 3:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, null, this, null, Promise);\n    }\n  }, {\n    key: \"addCustomer\",\n    value: function addCustomer(body) {\n      return _regeneratorRuntime.async(function addCustomer$(_context3) {\n        while (1) {\n          switch (_context3.prev = _context3.next) {\n            case 0:\n              _context3.next = 2;\n              return _regeneratorRuntime.awrap(this.apiAuth.post('users/customer', body));\n\n            case 2:\n              return _context3.abrupt(\"return\", _context3.sent);\n\n            case 3:\n            case \"end\":\n              return _context3.stop();\n          }\n        }\n      }, null, this, null, Promise);\n    }\n  }, {\n    key: \"getSalesOrderList\",\n    value: function getSalesOrderList(token) {\n      return _regeneratorRuntime.async(function getSalesOrderList$(_context4) {\n        while (1) {\n          switch (_context4.prev = _context4.next) {\n            case 0:\n              this.apiAuth.setHeader(Authorization, \"Bearer \" + token);\n              _context4.next = 3;\n              return _regeneratorRuntime.awrap(this.apiAuth.get('sales/order'));\n\n            case 3:\n              return _context4.abrupt(\"return\", _context4.sent);\n\n            case 4:\n            case \"end\":\n              return _context4.stop();\n          }\n        }\n      }, null, this, null, Promise);\n    }\n  }, {\n    key: \"invoice\",\n    value: function invoice(items, token) {\n      return _regeneratorRuntime.async(function invoice$(_context5) {\n        while (1) {\n          switch (_context5.prev = _context5.next) {\n            case 0:\n              this.apiAuth.setHeader(Authorization, \"Bearer \" + token);\n              _context5.next = 3;\n              return _regeneratorRuntime.awrap(this.apiAuth.post('sales/order', items));\n\n            case 3:\n              return _context5.abrupt(\"return\", _context5.sent);\n\n            case 4:\n            case \"end\":\n              return _context5.stop();\n          }\n        }\n      }, null, this, null, Promise);\n    }\n  }]);\n\n  return ServiceAPI;\n}();\n\nexport default new ServiceAPI();","map":{"version":3,"sources":["/Users/uedsonreis/Documents/Projetos/faculdades/aulas/example-ecommerce-react/src/utils/connection.api.ts"],"names":["create","Authorization","headers","Accept","ServiceAPI","apiAuth","baseURL","get","user","post","body","token","setHeader","items"],"mappings":";;;AAAA,SAASA,MAAT,QAAyC,UAAzC;AAIA,IAAMC,aAAqB,GAAG,eAA9B;AAEA,IAAMC,OAAO,GAAG;AAAEC,EAAAA,MAAM,EAAE;AAAV,CAAhB;;IAEMC,U;;;;SAEeC,O,GAA4BL,MAAM,CAAC;AAEhDM,MAAAA,OAAO,EAAE,wBAFuC;AAGhDJ,MAAAA,OAAO,EAAPA;AAHgD,KAAD,C;;;;;;;;;;;+CAOlC,KAAKG,OAAL,CAAaE,GAAb,CAAiB,UAAjB,C;;;;;;;;;;;;;;0BAGEC,I;;;;;;+CACF,KAAKH,OAAL,CAAaI,IAAb,CAAkB,aAAlB,EAAiCD,IAAjC,C;;;;;;;;;;;;;;gCAGQE,I;;;;;;+CACR,KAAKL,OAAL,CAAaI,IAAb,CAAkB,gBAAlB,EAAoCC,IAApC,C;;;;;;;;;;;;;;sCAGcC,K;;;;;AAC3B,mBAAKN,OAAL,CAAaO,SAAb,CAAuBX,aAAvB,EAAsC,YAAWU,KAAjD;;+CACa,KAAKN,OAAL,CAAaE,GAAb,CAAiB,aAAjB,C;;;;;;;;;;;;;;4BAGIM,K,EAAeF,K;;;;;AAChC,mBAAKN,OAAL,CAAaO,SAAb,CAAuBX,aAAvB,EAAsC,YAAWU,KAAjD;;+CACa,KAAKN,OAAL,CAAaI,IAAb,CAAkB,aAAlB,EAAiCI,KAAjC,C;;;;;;;;;;;;;;;;;AAKrB,eAAe,IAAIT,UAAJ,EAAf","sourcesContent":["import { create, ApisauceInstance } from 'apisauce';\nimport { Item } from '../model/item';\nimport { User } from '../model/user';\n\nconst Authorization: string = \"Authorization\";\n\nconst headers = { Accept: 'application/json' };\n\nclass ServiceAPI {\n    \n    private readonly apiAuth: ApisauceInstance = create({\n        // baseURL: \"http://example-ecommerce.herokuapp.com/\",\n        baseURL: \"http://127.0.0.1:3002/\",\n        headers,\n    });\n\n    public async getProductList() {\n        return await this.apiAuth.get('products');\n    }\n\n    public async login(user: User) {\n        return await this.apiAuth.post('users/login', user);\n    }\n\n    public async addCustomer(body: any) {\n        return await this.apiAuth.post('users/customer', body);\n    }\n\n    public async getSalesOrderList(token: string) {\n        this.apiAuth.setHeader(Authorization, \"Bearer \"+ token);\n        return await this.apiAuth.get('sales/order');\n    }\n\n    public async invoice(items: Item[], token: string) {\n        this.apiAuth.setHeader(Authorization, \"Bearer \"+ token);\n        return await this.apiAuth.post('sales/order', items);\n    }\n\n}\n\nexport default new ServiceAPI();"]},"metadata":{},"sourceType":"module"}