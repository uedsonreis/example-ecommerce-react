{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nimport { create } from 'apisauce';\nvar BASE_URL = \"http://127.0.0.1:3002/\";\nvar Authorization = \"Authorization\";\n\nvar ServiceAPI = function () {\n  function ServiceAPI() {\n    _classCallCheck(this, ServiceAPI);\n\n    this.api = create({\n      baseURL: BASE_URL,\n      headers: {\n        Accept: 'application/json'\n      }\n    });\n  }\n\n  _createClass(ServiceAPI, [{\n    key: \"getProductList\",\n    value: function getProductList() {\n      return _regeneratorRuntime.async(function getProductList$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.next = 2;\n              return _regeneratorRuntime.awrap(this.api.get('products'));\n\n            case 2:\n              return _context.abrupt(\"return\", _context.sent);\n\n            case 3:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, null, this, null, Promise);\n    }\n  }, {\n    key: \"login\",\n    value: function login(user) {\n      return _regeneratorRuntime.async(function login$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              _context2.next = 2;\n              return _regeneratorRuntime.awrap(this.api.post('users/login', user));\n\n            case 2:\n              return _context2.abrupt(\"return\", _context2.sent);\n\n            case 3:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, null, this, null, Promise);\n    }\n  }, {\n    key: \"addCustomer\",\n    value: function addCustomer(body) {\n      return _regeneratorRuntime.async(function addCustomer$(_context3) {\n        while (1) {\n          switch (_context3.prev = _context3.next) {\n            case 0:\n              _context3.next = 2;\n              return _regeneratorRuntime.awrap(this.api.post('users/customer', body));\n\n            case 2:\n              return _context3.abrupt(\"return\", _context3.sent);\n\n            case 3:\n            case \"end\":\n              return _context3.stop();\n          }\n        }\n      }, null, this, null, Promise);\n    }\n  }, {\n    key: \"getSalesOrderList\",\n    value: function getSalesOrderList(token) {\n      return _regeneratorRuntime.async(function getSalesOrderList$(_context4) {\n        while (1) {\n          switch (_context4.prev = _context4.next) {\n            case 0:\n              this.api.setHeader(Authorization, \"Bearer \" + token);\n              _context4.next = 3;\n              return _regeneratorRuntime.awrap(this.api.get('sales/order'));\n\n            case 3:\n              return _context4.abrupt(\"return\", _context4.sent);\n\n            case 4:\n            case \"end\":\n              return _context4.stop();\n          }\n        }\n      }, null, this, null, Promise);\n    }\n  }, {\n    key: \"invoice\",\n    value: function invoice(items, token) {\n      return _regeneratorRuntime.async(function invoice$(_context5) {\n        while (1) {\n          switch (_context5.prev = _context5.next) {\n            case 0:\n              this.api.setHeader(Authorization, \"Bearer \" + token);\n              _context5.next = 3;\n              return _regeneratorRuntime.awrap(this.api.post('sales/order', items));\n\n            case 3:\n              return _context5.abrupt(\"return\", _context5.sent);\n\n            case 4:\n            case \"end\":\n              return _context5.stop();\n          }\n        }\n      }, null, this, null, Promise);\n    }\n  }]);\n\n  return ServiceAPI;\n}();\n\nexport default new ServiceAPI();","map":{"version":3,"sources":["/Users/uedsonreis/Documents/Projetos/faculdades/aulas/example-ecommerce-react/src/utils/connection.api.ts"],"names":["create","BASE_URL","Authorization","ServiceAPI","api","baseURL","headers","Accept","get","user","post","body","token","setHeader","items"],"mappings":";;;AAAA,SAASA,MAAT,QAAyC,UAAzC;AAKA,IAAMC,QAAgB,GAAG,wBAAzB;AAEA,IAAMC,aAAqB,GAAG,eAA9B;;IAEMC,U;;;;SAEeC,G,GAAwBJ,MAAM,CAAC;AAC5CK,MAAAA,OAAO,EAAEJ,QADmC;AAE5CK,MAAAA,OAAO,EAAE;AACLC,QAAAA,MAAM,EAAE;AADH;AAFmC,KAAD,C;;;;;;;;;;;+CAQ9B,KAAKH,GAAL,CAASI,GAAT,CAAa,UAAb,C;;;;;;;;;;;;;;0BAGEC,I;;;;;;+CACF,KAAKL,GAAL,CAASM,IAAT,CAAc,aAAd,EAA6BD,IAA7B,C;;;;;;;;;;;;;;gCAGQE,I;;;;;;+CACR,KAAKP,GAAL,CAASM,IAAT,CAAc,gBAAd,EAAgCC,IAAhC,C;;;;;;;;;;;;;;sCAGcC,K;;;;;AAC3B,mBAAKR,GAAL,CAASS,SAAT,CAAmBX,aAAnB,EAAkC,YAAWU,KAA7C;;+CACa,KAAKR,GAAL,CAASI,GAAT,CAAa,aAAb,C;;;;;;;;;;;;;;4BAGIM,K,EAAeF,K;;;;;AAChC,mBAAKR,GAAL,CAASS,SAAT,CAAmBX,aAAnB,EAAkC,YAAWU,KAA7C;;+CACa,KAAKR,GAAL,CAASM,IAAT,CAAc,aAAd,EAA6BI,KAA7B,C;;;;;;;;;;;;;;;;;AAKrB,eAAe,IAAIX,UAAJ,EAAf","sourcesContent":["import { create, ApisauceInstance } from 'apisauce';\nimport { Item } from '../model/item';\nimport { User } from '../model/user';\n\n// const BASE_URL: string = \"http://example-ecommerce.herokuapp.com/\";\nconst BASE_URL: string = \"http://127.0.0.1:3002/\";\n\nconst Authorization: string = \"Authorization\";\n\nclass ServiceAPI {\n\n    private readonly api: ApisauceInstance = create({\n        baseURL: BASE_URL,\n        headers: {\n            Accept: 'application/json',\n        },\n    });\n\n    public async getProductList() {\n        return await this.api.get('products');\n    }\n\n    public async login(user: User) {\n        return await this.api.post('users/login', user);\n    }\n\n    public async addCustomer(body: any) {\n        return await this.api.post('users/customer', body);\n    }\n\n    public async getSalesOrderList(token: string) {\n        this.api.setHeader(Authorization, \"Bearer \"+ token);\n        return await this.api.get('sales/order');\n    }\n\n    public async invoice(items: Item[], token: string) {\n        this.api.setHeader(Authorization, \"Bearer \"+ token);\n        return await this.api.post('sales/order', items);\n    }\n\n}\n\nexport default new ServiceAPI();"]},"metadata":{},"sourceType":"module"}