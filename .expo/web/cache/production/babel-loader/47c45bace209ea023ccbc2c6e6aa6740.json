{"ast":null,"code":"import _extends from\"@babel/runtime/helpers/extends\";import _classCallCheck from\"@babel/runtime/helpers/classCallCheck\";import _createClass from\"@babel/runtime/helpers/createClass\";import _possibleConstructorReturn from\"@babel/runtime/helpers/possibleConstructorReturn\";import _getPrototypeOf from\"@babel/runtime/helpers/getPrototypeOf\";import _inherits from\"@babel/runtime/helpers/inherits\";var _jsxFileName=\"/Users/satya/Workspace/Callstack/react-navigation-tabs/src/utils/withDimensions.tsx\";import*as React from'react';import Dimensions from\"react-native-web/dist/exports/Dimensions\";import hoistNonReactStatic from'hoist-non-react-statics';export var isOrientationLandscape=function isOrientationLandscape(_ref){var width=_ref.width,height=_ref.height;return width>height;};export default function withDimensions(WrappedComponent){var EnhancedComponent=function(_React$Component){_inherits(EnhancedComponent,_React$Component);function EnhancedComponent(props){var _this;_classCallCheck(this,EnhancedComponent);_this=_possibleConstructorReturn(this,_getPrototypeOf(EnhancedComponent).call(this,props));_this.handleOrientationChange=function(_ref2){var window=_ref2.window;var width=window.width,height=window.height;_this.setState({dimensions:{width:width,height:height},isLandscape:isOrientationLandscape({width:width,height:height})});};var _Dimensions$get=Dimensions.get('window'),_width=_Dimensions$get.width,_height=_Dimensions$get.height;_this.state={dimensions:{width:_width,height:_height},isLandscape:isOrientationLandscape({width:_width,height:_height})};return _this;}_createClass(EnhancedComponent,[{key:\"componentDidMount\",value:function componentDidMount(){Dimensions.addEventListener('change',this.handleOrientationChange);}},{key:\"componentWillUnmount\",value:function componentWillUnmount(){Dimensions.removeEventListener('change',this.handleOrientationChange);}},{key:\"render\",value:function render(){return React.createElement(WrappedComponent,_extends({},this.props,this.state,{__source:{fileName:_jsxFileName,lineNumber:52}}));}}]);return EnhancedComponent;}(React.Component);EnhancedComponent.displayName=\"withDimensions(\"+WrappedComponent.displayName+\")\";return hoistNonReactStatic(EnhancedComponent,WrappedComponent);}","map":{"version":3,"sources":["withDimensions.tsx"],"names":["isOrientationLandscape","width","height","EnhancedComponent","React","WrappedComponent","Dimensions","dimensions","isLandscape","window","hoistNonReactStatic"],"mappings":"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","sourcesContent":["import * as React from 'react';\nimport { Dimensions, ScaledSize } from 'react-native';\nimport hoistNonReactStatic from 'hoist-non-react-statics';\n\ntype DimensionsType = {\n  width: number;\n  height: number;\n};\n\ntype InjectedProps = {\n  dimensions: DimensionsType;\n  isLandscape: boolean;\n};\n\nexport const isOrientationLandscape = ({ width, height }: DimensionsType) =>\n  width > height;\n\nexport default function withDimensions<Props extends InjectedProps>(\n  WrappedComponent: React.ComponentType<Props>\n): React.ComponentType<Pick<Props, Exclude<keyof Props, keyof InjectedProps>>> {\n  class EnhancedComponent extends React.Component {\n    static displayName = `withDimensions(${WrappedComponent.displayName})`;\n\n    constructor(props: Props) {\n      super(props);\n\n      const { width, height } = Dimensions.get('window');\n      this.state = {\n        dimensions: { width, height },\n        isLandscape: isOrientationLandscape({ width, height }),\n      };\n    }\n\n    componentDidMount() {\n      Dimensions.addEventListener('change', this.handleOrientationChange);\n    }\n\n    componentWillUnmount() {\n      Dimensions.removeEventListener('change', this.handleOrientationChange);\n    }\n\n    handleOrientationChange = ({ window }: { window: ScaledSize }) => {\n      const { width, height } = window;\n      this.setState({\n        dimensions: { width, height },\n        isLandscape: isOrientationLandscape({ width, height }),\n      });\n    };\n\n    render() {\n      // @ts-ignore\n      return <WrappedComponent {...this.props} {...this.state} />;\n    }\n  }\n\n  // @ts-ignore\n  return hoistNonReactStatic(EnhancedComponent, WrappedComponent);\n}\n"]},"metadata":{},"sourceType":"module"}